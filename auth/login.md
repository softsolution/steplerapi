### auth.login

Авторизация пользователя стандартным способом (используются cookie). Используется стандартный механизм сессий и cookie, поэтому при данном запросе и последующих запросах, требующих авторизации пользователя, убедитесь, что cookie передаются.

### Базовые параметры

|Название| Описание |
|----|----|
| **email** | Email пользователя, которого хотим авторизовать. Параметр **обязательный**. |
| **password** | Пароль пользователя, которого хотим авторизовать. Параметр **обязательный**. |
| **sig** | Параметр привязан к ip адресу клиента и к домену сайта. Это **обязательный параметр**. |
| **remember** | Параметр "Запомнить меня". |

### Двухфакторная авторизация

В случае, если требуется двухфакторная авторизация, в объекте ответа будет:

  * поле ''wait_2fa'' со значением **true**;
  * поле ''2fa_type'' со значением типа 2FA авторизации;
  * поле ''2fa_params'' с массивом полей формы подтверждения и данными запроса

В следующий запрос этого метода необходимо будет передать помимо базовых параметров, параметры, необходимые для двухфакторной авторизации. Объект ''2fa_params.data'' будет содержать заполненные базовые параметры, объект ''2fa_params.form'' будет содержать параметры, которые необходимо передать.
В конечном итоге, в случае 2FA авторизации от Гугла, повторный запрос должен содержать:

  * email
  * password
  * sig
  * remember (необязательно)
  * csrf_token
  * ga_confirm_code
  * submit_confirm

### Пример

```
step-ler.ru/api/method/auth.login?api_key=API_KEY&sig=SIG&email=EMAIL&password=PASS
```

### Результат

После успешного выполнения возвращает объект, содержащий массив данных в поле ''user_info'', id авторизованного пользователя в поле ''user_id'', имя текущей сессии в поле session_name и id текущей сессии в поле ''session_id''. Если параметр **remember** был передан, отличным от ноля, в ответе также будет поле ''remember_token'', содержащее токен автоавторизации.

![Alt-текст](https://avatars1.githubusercontent.com/u/5384215?v=3&s=460 "Орк")
<img src="https://step-ler.ru/upload/api/auth-login1.png" />

<img src="https://step-ler.ru/upload/api/auth-login2.png" />

<img src="https://step-ler.ru/upload/api/auth-login3.png" />

### Коды ошибок

В ходе выполнения также могут произойти [общие ошибки](/docs/errors.md)

[НА ГЛАВНУЮ](/README.md)